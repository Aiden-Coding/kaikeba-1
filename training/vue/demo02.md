### Vue组件data选项为什么必须是个函数而Vue的根实例则没有此限制？

` Author rise created on 2020/1/21 `

- 问题1?
    - 为了解决什么问题?
        - 多个组件之间的`data`被相互影响到,这是不希望出现的;
    - 什么原因导致的?
        - 因为对象是引用类型,实例化组件组件的过程中,`data`的引用地址被赋值给了每一个组件实例,修改任何一个组件都会影响到其他使用这个`data`的组件;
    - 解决思路什么?
        - 使用函数的独立作用域这一特性(闭包),这样每复用一次组件，就会返回一份新的data,类似于给每个组件实例创建一个私有的数据空间，让各个组件实例维护各自的数据;这是因为js的特性,跟vue本身设计无关;
- 问题2?
    - 差异是什么
        - 子组件会创建多个,根组件一般只会创建一个,也就巧妙地规避了这个问题

